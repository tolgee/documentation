---
id: usage
title: Usage (Compose Module)
description: How to use Tolgee Android SDK Compose module in Jetpack Compose and Compose Multiplatform applications
---

# Usage (Compose Module)

This guide shows you how to use the Tolgee Android SDK Compose module in Jetpack Compose and Compose Multiplatform applications. For traditional Android Views usage, see [Android Views Usage](../usage.mdx).

## Prerequisites

**Make sure you've completed the quickstart setup and initialized Tolgee for Compose.** See: [Installation (Compose Module)](/android-sdk/installation.mdx)

## Basic Usage

Tolgee's Compose extensions let you fetch localized keys directly inside your composables. Unlike traditional Android Views which require manual UI updates or Activity recreation, Compose integration automatically recomposes UI elements when translations change.

:::note
If you are unsure of which translation type to choose, notice a “Use for...” section under every explanation.
:::


## Getting translations

### 1. Simple Strings

- **Jetpack Compose**

```kotlin
@Composable
fun SimpleText() {
    Text(text = stringResource(R.string.welcome_message))
}
```

- **Compose Multiplatform**

```kotlin
@Composable
fun SimpleText() {
    Text(text = stringResource(Res.string.welcome_message))
}
```

:::info
In the Compose Multiplatform use `stringResource` function with `Res`.
:::

Use `stringResource` for **simple strings** (e. g., error messages, titles), retrieve a translation by its resource ID.

### 2. With Parameters

Pass parameters to translations, supply arguments for placeholders in your keys.

- **Jetpack Compose**

```kotlin
@Composable
fun TextWithParameters(name: String) {
    Text(text = stringResource(R.string.welcome_user, name))
}
```

- **Compose Multiplatform**

```kotlin
@Composable
fun TextWithParameters(name: String) {
    Text(text = stringResource(Res.string.welcome_user, name))
}
```

Use for translation with **dynamic values**. Add data that changes during the app's runtime (e.g., dates, numbers, usernames).

### Formatter Configuration

**Choose how placeholders are parsed and rendered.**
Use when you have translations with placeholders, SDK must know how to exchange the placeholders for wanted values.
**Example**: "`Hello %s`" or"`You have {count} items`"

See also: [Android XML format](/platform/formats/android_xml) · [Tolgee Universal ICU placeholders](/platform/translation_process/tolgee_universal_icu_placeholders)


**1. Sprintf**

```kotlin
Tolgee.init {
    contentDelivery {
        url = "https://cdn.tolg.ee/your-cdn-url-prefix"
        format(Tolgee.Formatter.Sprintf)
    }
}
```

**Use for easy scenarios**, when you are using formatters, like `%s, %d, %1$s`.

:::warning
**This parameter type won't work with fallbacks to Android Resources** - it's not functional for apps with any offline activity.
:::

**2.  ICU**

```kotlin
Tolgee.init {
    contentDelivery {
        url = "https://cdn.tolg.ee/your-cdn-url-prefix"
        format(Tolgee.Formatter.ICU)
    }
}
```

**Use for more advanced translations and ICU features**, when you need nested formats or formatters,
 like e.g. few, may, female, and complex lingual principles.

### 3. Plurals

Handle plurals with `pluralStringResource` - provide the count and any formatting arguments.

- **Jetpack Compose**

```kotlin
@Composable
fun PluralText(count: Int) {
    // First 'count' parameter determines which plural form to use
    // Second 'count' parameter is passed as a value to the translation
    Text(text = pluralStringResource(R.plurals.items_count, count, count))
}
```

- **Compose Multiplatform**

```kotlin
@Composable
fun PluralText(count: Int) {
    Text(text = pluralStringResource(Res.plurals.items_count, count, count))
}
```

**Example plural resource:**

```xml
<!-- In res/values/plurals.xml -->
<plurals name="items_count">
    <item quantity="one">%d item</item>
    <item quantity="other">%d items</item>
</plurals>
```

The `pluralStringResource` function will:
1. Select the correct plural form based on the count value
2. Replace the placeholder with the provided value
3. Automatically update the UI if the count changes or if translations are updated

**Use for lists, counters, notifications** — any situation where the grammar changes with quantity.

## Explicit Tolgee Instance

```kotlin
@Composable
fun ExplicitInstance() {
    val tolgee = remember { myCustomTolgee }

    Text(text = stringResource(tolgee, R.string.welcome_message))
}
```

Handy when you need **more than one instance** (multiple projects/CDNs), when following **dependency injection** patterns (dependencies are “injected”, not created inside classes), and or **during testing/previews**.

## Locale Switching

**You can create a locale switcher component:**

```kotlin
@Composable
fun LocaleSwitcher() {
    val tolgee = Tolgee.instance
    val currentLocale = tolgee.changeFlow.mapLatest {
        tolgee.getLocale()
    }.collectAsState(initial = tolgee.getLocale())

    Row {
        Text(text = stringResource(tolgee, R.string.selected_locale, currentLocale.language))
        Button(onClick = { tolgee.setLocale("en") }) {
            Text("English")
        }
        Button(onClick = { tolgee.setLocale("fr") }) {
            Text("Français")
        }
        Button(onClick = { tolgee.setLocale("cs") }) {
            Text("Čeština")
        }
    }
}
```
Handy for apps, where “**choose language**” option is available, you want to use **Over‑the‑Air (OTA) translation updates** (translations refresh automatically when locale or content changes), and during **testing/debugging**.

Most often used in **settings screens, onboarding flows, or debug menus** - anytime you want to allow **runtime language switching**.
## Observing Locale Changes

**Collecting `Tolgee.changeFlow` as state ensures your composable recomposes whenever the locale changes**, 
keeping the UI in sync with the active language.

```kotlin
@Composable
fun LocaleAwareComponent() {
    val tolgee = Tolgee.instance

    val locale by tolgee.changeFlow
        .map { tolgee.getLocale() }
        .collectAsState(initial = tolgee.getLocale())

    Text(text = locale.language)
}
```

Handy for **observing locale changes** in real time, **keeping track of current locale**, **showing chosen language** in app, **reactively updating translations** whenever user switches the language.

## How Compose Integration Differs from Android Views

Tolgee's Compose integration offers several advantages over traditional Android Views:

1. **Reactive by default** - Compose UI automatically updates when translations change, without manual intervention

2. **No Activity recreation needed** - Unlike Android Views which require `recreate()` to refresh translations

3. **Simplified API** - Familiar `stringResource()` and `pluralStringResource()` functions that match Compose's built-in functions

4. **State-based** - Translations are part of the Compose state system, ensuring proper recomposition

5. **Multiplatform support** - Works with both Jetpack Compose for Android and Compose Multiplatform

## Example Projects

For complete examples of how to use the Tolgee Compose module, check out the demo projects:

- **[Example Jetpack](https://github.com/tolgee/tolgee-mobile-kotlin-sdk/tree/master/demo/examplejetpack)** - Jetpack Compose example
- **[Multiplatform Compose](https://github.com/tolgee/tolgee-mobile-kotlin-sdk/tree/master/demo/examplecomposemultiplatform)** - Compose Multiplatform example

## Next Steps

- **Using traditional Views?** See [Android Views Usage](../usage.mdx)
- **Having issues?** Check [Troubleshooting](./troubleshooting.mdx)
- **Need example apps?** See [Example Apps](../example-apps.mdx)
