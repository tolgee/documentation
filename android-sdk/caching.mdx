---
sidebar_position: 6
id: caching
title: Caching
description: How caching works in Tolgee Android SDK
---

# Caching

Tolgee Android SDK provides robust caching mechanisms to ensure your app works offline and loads translations efficiently.

## Cache Types

### Memory Cache
- **Location**: RAM
- **Speed**: Very fast
- **Size**: Limited by available memory
- **Persistence**: Lost on app restart

### Disk Cache
- **Location**: Device storage
- **Speed**: Fast
- **Size**: Configurable
- **Persistence**: Survives app restart

## Configuration

```kotlin
Tolgee.configure {
    // Enable/disable caching
    cacheEnabled = true
    
    // Cache expiration time (milliseconds)
    cacheExpiration = 24 * 60 * 60 * 1000 // 24 hours
    
    // Maximum cache size (bytes)
    maxCacheSize = 50 * 1024 * 1024 // 50MB
    
    // Cache directory
    cacheDir = File(context.cacheDir, "tolgee-cache")
}
```

## Cache Management

### Manual Cache Operations

```kotlin
// Clear all cached translations
Tolgee.clearCache()

// Clear cache for specific language
Tolgee.clearLanguageCache("en")

// Preload translations for language
Tolgee.preloadTranslations("es")

// Check cache status
val cacheInfo = Tolgee.getCacheInfo()
```

### Cache Events

```kotlin
// Listen for cache events
Tolgee.addCacheListener { event ->
    when (event) {
        is CacheHit -> Log.d("Cache", "Cache hit for ${event.key}")
        is CacheMiss -> Log.d("Cache", "Cache miss for ${event.key}")
        is CacheExpired -> Log.d("Cache", "Cache expired for ${event.key}")
    }
}
```

## Offline Mode

```kotlin
// Enable offline mode
Tolgee.enableOfflineMode()

// Check if offline mode is active
val isOffline = Tolgee.isOfflineMode()

// Configure offline behavior
Tolgee.configure {
    offlineMode = true
    fallbackToCache = true
    fallbackToDefault = true
}
```

## Cache Validation

```kotlin
// Validate cache integrity
val isValid = Tolgee.validateCache()

// Repair corrupted cache
Tolgee.repairCache()

// Get cache statistics
val stats = Tolgee.getCacheStats()
```

## Best Practices

### Cache Warming

```kotlin
// Preload frequently used translations
class MyApplication : Application() {
    override fun onCreate() {
        super.onCreate()
        Tolgee.init(this, apiKey, projectId)
        
        // Preload translations for default language
        Tolgee.preloadTranslations(Tolgee.getCurrentLanguage())
        
        // Preload for fallback language
        Tolgee.preloadTranslations("en")
    }
}
```

### Cache Size Management

```kotlin
// Monitor cache size
Tolgee.configure {
    maxCacheSize = 25 * 1024 * 1024 // 25MB for mobile
    
    // Set cache cleanup threshold
    cacheCleanupThreshold = 0.8f // 80% full
}
```